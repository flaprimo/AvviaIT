<ui:composition template="/template/commonLayout.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="title">Annunci</ui:define>
    <ui:define name="content">
        <div class="row">
            <div class="small-12 medium-8 medium-offset-2 columns">
                <h1>Annunci</h1>
                <hr />
                <c:choose>
                    <c:when test="#{not empty annuncioMembriController.annunciStartup}">
                        <c:forEach var="annuncio" items="#{annuncioMembriController.annunciStartup}">
                            <div class="panel">
                                <h3>#{annuncio.mansione}</h3>
                                <h4>Di:
                                    <h:link value="#{annuncio.autrice.nome}"
                                            outcome="#{pageContext.request.contextPath}/startup/profile.xhtml">
                                        <f:param name="name" value="#{annuncio.autrice.nome}" />
                                    </h:link>
                                </h4>
                                <h4>Skill Richieste</h4>
                                <c:forEach var="skill" items="#{annuncio.skillRichieste}">
                                    <div class="panel">
                                        #{skill.nome}
                                    </div>
                                </c:forEach>
                                <p>#{annuncio.descrizione}</p>
                                <p>Aggiunto il: #{annuncio.dataCreazione.getTime().toString()}</p>
                                <a href="#{pageContext.request.contextPath}/annuncio/delete.xhtml?id=#{annuncio.id}"
                                   class="tiny button">
                                    <i class="fa-trash fa" />
                                    Cancella
                                </a>
                            </div>
                        </c:forEach>
                    </c:when>
                    <c:otherwise>
                        <c:forEach var="annuncio" items="#{annuncioMembriController.allAnnunci}">
                            <div class="panel">
                                <h3>#{annuncio.mansione}</h3>
                                <h4>Di:
                                    <h:link value="#{annuncio.autrice.nome}"
                                            outcome="#{pageContext.request.contextPath}/startup/profile.xhtml">
                                        <f:param name="name" value="#{annuncio.autrice.nome}" />
                                    </h:link>
                                </h4>
                                <h4>Skill Richieste</h4>
                                <c:forEach var="skill" items="#{annuncio.skillRichieste}">
                                    <div class="panel">
                                        #{skill.nome}
                                    </div>
                                </c:forEach>
                                <p>#{annuncio.descrizione}</p>
                                <p>Aggiunto il: #{annuncio.dataCreazione.getTime().toString()}</p>
                            </div>
                        </c:forEach>
                    </c:otherwise>
                </c:choose>
            </div>
        </div>
    </ui:define>
</ui:composition>